<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Salary Structure -->
    <record id="hr_payroll_structure_cp200_employee_termination_fees" model="hr.payroll.structure">
        <field name="name">CP200: Employees Termination Fees</field>
        <field name="type_id" ref="l10n_be_hr_payroll.structure_type_employee_cp200"/>
        <field name="country_id" ref="base.be"/>
        <field name="report_id" ref="l10n_be_hr_payroll.action_report_termination_fees"/>
        <field name="payslip_name">Termination Fees</field>
        <field name="rule_ids" eval="[]"/>
        <field name="use_worked_day_lines" eval="False"/>
    </record>

    <!-- Salary Other Input -->
    <record id="cp200_other_input_months" model="hr.payslip.input.type">
        <field name="name">Duration in month</field>
        <field name="code">MONTHS</field>
        <field name="country_id" ref="base.be"/>
        <field name="struct_ids" eval="[(4, ref('l10n_be_hr_payroll.hr_payroll_structure_cp200_employee_termination_fees'))]"/>
    </record>

    <record id="cp200_other_input_weeks" model="hr.payslip.input.type">
        <field name="name">Duration in week</field>
        <field name="code">WEEKS</field>
        <field name="country_id" ref="base.be"/>
        <field name="struct_ids" eval="[(4, ref('l10n_be_hr_payroll.hr_payroll_structure_cp200_employee_termination_fees'))]"/>
    </record>

    <record id="cp200_other_input_days" model="hr.payslip.input.type">
        <field name="name">Duration in calendar day</field>
        <field name="code">DAYS</field>
        <field name="country_id" ref="base.be"/>
        <field name="struct_ids" eval="[(4, ref('l10n_be_hr_payroll.hr_payroll_structure_cp200_employee_termination_fees'))]"/>
    </record>

    <record id="cp200_other_input_unreasonable_dismissal" model="hr.payslip.input.type">
        <field name="name">Unreasonable dismissal</field>
        <field name="code">UNREASONABLE_DISMISSAL</field>
        <field name="country_id" ref="base.be"/>
        <field name="struct_ids" eval="[(4, ref('l10n_be_hr_payroll.hr_payroll_structure_cp200_employee_termination_fees'))]"/>
    </record>

    <record id="cp200_other_input_non_respect_motivation" model="hr.payslip.input.type">
        <field name="name">Non respect motivation (= 2 weeks)</field>
        <field name="code">NON_RESPECT_MOTIVATION</field>
        <field name="country_id" ref="base.be"/>
        <field name="struct_ids" eval="[(4, ref('l10n_be_hr_payroll.hr_payroll_structure_cp200_employee_termination_fees'))]"/>
    </record>

    <record id="cp200_other_input_yearend_bonus" model="hr.payslip.input.type">
        <field name="name">Year-end bonus</field>
        <field name="code">YEAREND_BONUS</field>
        <field name="country_id" ref="base.be"/>
        <field name="struct_ids" eval="[(4, ref('l10n_be_hr_payroll.hr_payroll_structure_cp200_employee_termination_fees'))]"/>
    </record>

    <record id="cp200_other_input_residence" model="hr.payslip.input.type">
        <field name="name">Home/Residence Allowance</field>
        <field name="code">RESIDENCE</field>
        <field name="country_id" ref="base.be"/>
        <field name="struct_ids" eval="[(4, ref('l10n_be_hr_payroll.hr_payroll_structure_cp200_employee_termination_fees'))]"/>
    </record>

    <record id="cp200_other_input_expatriate" model="hr.payslip.input.type">
        <field name="name">Expatriate Allowance</field>
        <field name="code">EXPATRIATE</field>
        <field name="country_id" ref="base.be"/>
        <field name="struct_ids" eval="[(4, ref('l10n_be_hr_payroll.hr_payroll_structure_cp200_employee_termination_fees'))]"/>
    </record>

    <record id="cp200_other_input_variable_salary" model="hr.payslip.input.type">
        <field name="name">Annual variable salary</field>
        <field name="code">VARIABLE_SALARY</field>
        <field name="country_id" ref="base.be"/>
        <field name="struct_ids" eval="[(4, ref('l10n_be_hr_payroll.hr_payroll_structure_cp200_employee_termination_fees'))]"/>
    </record>

    <record id="cp200_other_input_benefit_in_kind" model="hr.payslip.input.type">
        <field name="name">Monthly benefit in kind</field>
        <field name="code">BENEFIT_IN_KIND</field>
        <field name="country_id" ref="base.be"/>
        <field name="struct_ids" eval="[(4, ref('l10n_be_hr_payroll.hr_payroll_structure_cp200_employee_termination_fees'))]"/>
    </record>

    <record id="cp200_other_input_hospital_insurance" model="hr.payslip.input.type">
        <field name="name">Monthly hospital insurance (employer's share)</field>
        <field name="code">HOSPITAL_INSURANCE</field>
        <field name="country_id" ref="base.be"/>
        <field name="struct_ids" eval="[(4, ref('l10n_be_hr_payroll.hr_payroll_structure_cp200_employee_termination_fees'))]"/>
    </record>

    <record id="cp200_other_input_group_insurance" model="hr.payslip.input.type">
        <field name="name">Monthly group insurance (employer's share)</field>
        <field name="code">GROUP_INSURANCE</field>
        <field name="country_id" ref="base.be"/>
        <field name="struct_ids" eval="[(4, ref('l10n_be_hr_payroll.hr_payroll_structure_cp200_employee_termination_fees'))]"/>
    </record>

    <record id="cp200_other_input_stock_option" model="hr.payslip.input.type">
        <field name="name">Stock Option</field>
        <field name="code">STOCK_OPTION</field>
        <field name="country_id" ref="base.be"/>
        <field name="struct_ids" eval="[(4, ref('l10n_be_hr_payroll.hr_payroll_structure_cp200_employee_termination_fees'))]"/>
    </record>

    <record id="cp200_other_input_specific_rules" model="hr.payslip.input.type">
        <field name="name">Rules specific to Auxiliary Joint Committee</field>
        <field name="code">SPECIFIC_RULES</field>
        <field name="country_id" ref="base.be"/>
        <field name="struct_ids" eval="[(4, ref('l10n_be_hr_payroll.hr_payroll_structure_cp200_employee_termination_fees'))]"/>
    </record>

    <record id="cp200_other_input_other" model="hr.payslip.input.type">
        <field name="name">Other monthly/yearly</field>
        <field name="code">OTHER</field>
        <field name="country_id" ref="base.be"/>
        <field name="struct_ids" eval="[(4, ref('l10n_be_hr_payroll.hr_payroll_structure_cp200_employee_termination_fees'))]"/>
    </record>

    <!-- Salary Rules -->
    <record id="cp200_employees_termination_fees_basic_12_92" model="hr.salary.rule">
        <field name="name">Gross Monthly Salary</field>
        <field name="sequence" eval="1"/>
        <field name="code">BASIC2</field>
        <field name="category_id" ref="hr_payroll.BASIC"/>
        <field name="condition_select">none</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result_qty = 12.92
result = contract.wage
        </field>
        <field name="struct_id" ref="l10n_be_hr_payroll.hr_payroll_structure_cp200_employee_termination_fees"/>
    </record>

    <record id="cp200_employees_termination_fees_year_end_bonus" model="hr.salary.rule">
        <field name="name">Year-end bonus</field>
        <field name="sequence" eval="2"/>
        <field name="code">YEAREND_BONUS</field>
        <field name="category_id" ref="hr_payroll_head_div_impos"/>
        <field name="condition_select">none</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs.YEAREND_BONUS.amount if inputs.YEAREND_BONUS else 0
        </field>
        <field name="struct_id" ref="l10n_be_hr_payroll.hr_payroll_structure_cp200_employee_termination_fees"/>
    </record>

    <record id="cp200_employees_termination_fees_residence" model="hr.salary.rule">
        <field name="name">Home/Residence Allowance</field>
        <field name="sequence" eval="3"/>
        <field name="code">RESIDENCE</field>
        <field name="category_id" ref="hr_payroll_head_div_impos"/>
        <field name="condition_select">none</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result_qty = 13.92
result = inputs.RESIDENCE.amount if inputs.RESIDENCE else 0
        </field>
        <field name="struct_id" ref="l10n_be_hr_payroll.hr_payroll_structure_cp200_employee_termination_fees"/>
    </record>

    <record id="cp200_employees_termination_fees_expatriate" model="hr.salary.rule">
        <field name="name">Expatriate Allowance</field>
        <field name="sequence" eval="4"/>
        <field name="code">EXPATRIATE</field>
        <field name="category_id" ref="hr_payroll_head_div_impos"/>
        <field name="condition_select">none</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result_qty = 12
result = inputs.EXPATRIATE.amount if inputs.EXPATRIATE else 0
        </field>
        <field name="struct_id" ref="l10n_be_hr_payroll.hr_payroll_structure_cp200_employee_termination_fees"/>
    </record>

    <record id="cp200_employees_termination_fees_ch_year" model="hr.salary.rule">
        <field name="name">Meal Voucher</field>
        <field name="sequence" eval="5"/>
        <field name="code">MEAL_VOUCHER</field>
        <field name="category_id" ref="hr_payroll_head_div_impos"/>
        <field name="condition_select">none</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result_qty = 231
result = contract.meal_voucher_amount
        </field>
        <field name="struct_id" ref="l10n_be_hr_payroll.hr_payroll_structure_cp200_employee_termination_fees"/>
    </record>

    <record id="cp200_employees_termination_fees_eco_checks" model="hr.salary.rule">
        <field name="name">Eco Vouchers</field>
        <field name="sequence" eval="6"/>
        <field name="code">ECO_VOUCHER</field>
        <field name="category_id" ref="hr_payroll_head_div_impos"/>
        <field name="condition_select">none</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = contract.eco_checks
        </field>
        <field name="struct_id" ref="l10n_be_hr_payroll.hr_payroll_structure_cp200_employee_termination_fees"/>
    </record>

    <record id="cp200_employees_termination_fees_annual_variable_salary" model="hr.salary.rule">
        <field name="name">Annual variable salary</field>
        <field name="sequence" eval="7"/>
        <field name="code">VARIABLE_SALARY</field>
        <field name="category_id" ref="hr_payroll_head_div_impos"/>
        <field name="condition_select">none</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs.VARIABLE_SALARY.amount if inputs.VARIABLE_SALARY else 0
        </field>
        <field name="struct_id" ref="l10n_be_hr_payroll.hr_payroll_structure_cp200_employee_termination_fees"/>
    </record>

    <record id="cp200_employees_termination_fees_pay_variable_salary" model="hr.salary.rule">
        <field name="name">Pay on variable salary (15.34 of the annual amount)</field>
        <field name="sequence" eval="8"/>
        <field name="code">PAY_VARIABLE_SALARY</field>
        <field name="category_id" ref="hr_payroll_head_div_impos"/>
        <field name="condition_select">none</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result_rate = 15.34
result = VARIABLE_SALARY
        </field>
        <field name="struct_id" ref="l10n_be_hr_payroll.hr_payroll_structure_cp200_employee_termination_fees"/>
    </record>

    <record id="cp200_employees_termination_fees_benefit_in_kind" model="hr.salary.rule">
        <field name="name">Monthly benefit in kind</field>
        <field name="sequence">9</field>
        <field name="code">BENEFIT_IN_KIND</field>
        <field name="category_id" ref="hr_payroll_head_div_impos"/>
        <field name="condition_select">none</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs.BENEFIT_IN_KIND.amount if inputs.BENEFIT_IN_KIND else 0
result_qty = 12.92
        </field>
        <field name="struct_id" ref="l10n_be_hr_payroll.hr_payroll_structure_cp200_employee_termination_fees"/>
    </record>

    <record id="cp200_employees_termination_fees_advantage_any_kind" model="hr.salary.rule">
        <field name="name">ATN</field>
        <field name="sequence">10</field>
        <field name="code">ADVANTAGE_ANY_KIND</field>
        <field name="category_id" ref="hr_payroll_head_div_impos"/>
        <field name="condition_select">none</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result_qty = 12.92
result = 0
if contract.internet:
    result += 5.0
if contract.mobile and not contract.internet:
    result += 4.0 + 5.0
if contract.mobile and contract.internet:
    result += 4.0
        </field>
        <field name="struct_id" ref="l10n_be_hr_payroll.hr_payroll_structure_cp200_employee_termination_fees"/>
    </record>

    <record id="cp200_employees_termination_fees_company_car_annual" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll_head_div_impos"/>
        <field name="name">ATN Company Car</field>
        <field name="code">ATN.CAR</field>
        <field name="sequence">11</field>
        <field name="condition_select">none</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result_qty = 12
result = contract.car_atn
        </field>
        <field name="struct_id" ref="l10n_be_hr_payroll.hr_payroll_structure_cp200_employee_termination_fees"/>
    </record>

    <record id="cp200_employees_termination_fees_hospital_insurance" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll_head_div_impos"/>
        <field name="name">Monthly hospital insurance (employer's share)</field>
        <field name="code">HOSPITAL_INSURANCE</field>
        <field name="sequence">12</field>
        <field name="condition_select">none</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result_qty = 12
result = inputs.HOSPITAL_INSURANCE.amount if inputs.HOSPITAL_INSURANCE else 0
        </field>
        <field name="struct_id" ref="l10n_be_hr_payroll.hr_payroll_structure_cp200_employee_termination_fees"/>
    </record>

    <record id="cp200_employees_termination_fees_group_insurance" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll_head_div_impos"/>
        <field name="name">Monthly group insurance (employer's share)</field>
        <field name="code">GROUP_INSURANCE</field>
        <field name="sequence">13</field>
        <field name="condition_select">none</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result_qty = 12
result = inputs.GROUP_INSURANCE.amount if inputs.GROUP_INSURANCE else 0
        </field>
        <field name="struct_id" ref="l10n_be_hr_payroll.hr_payroll_structure_cp200_employee_termination_fees"/>
    </record>

    <record id="cp200_employees_termination_fees_stock_option" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll_head_div_impos"/>
        <field name="name">Stock Option</field>
        <field name="code">STOCK_OPTION</field>
        <field name="sequence">14</field>
        <field name="condition_select">none</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result_qty = 12
result = inputs.STOCK_OPTION.amount if inputs.STOCK_OPTION else 0
        </field>
        <field name="struct_id" ref="l10n_be_hr_payroll.hr_payroll_structure_cp200_employee_termination_fees"/>
    </record>

    <record id="cp200_employees_termination_fees_specific_CP" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll_head_div_impos"/>
        <field name="name">Rules specific to Auxiliary Joint Committee</field>
        <field name="code">SPECIFIC RULES</field>
        <field name="sequence">15</field>
        <field name="condition_select">none</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result_qty = 12
result = inputs.SPECIFIC_RULES.amount if inputs.SPECIFIC_RULES else 0
        </field>
        <field name="struct_id" ref="l10n_be_hr_payroll.hr_payroll_structure_cp200_employee_termination_fees"/>
    </record>

    <record id="cp200_employees_termination_fees_other_annual" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll_head_div_impos"/>
        <field name="name">Other monthly/yearly</field>
        <field name="code">OTHER</field>
        <field name="sequence">16</field>
        <field name="condition_select">none</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result_qty = 12
result = inputs.OTHER.amount if inputs.OTHER else 0
        </field>
        <field name="struct_id" ref="l10n_be_hr_payroll.hr_payroll_structure_cp200_employee_termination_fees"/>
    </record>

    <record id="cp200_employees_termination_fees_annual_salary_revalued" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll_termination"/>
        <field name="name">Annual salary revalued</field>
        <field name="code">ANNUAL_SALARY_REVALUED</field>
        <field name="sequence">17</field>
        <field name="condition_select">none</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">result = categories.BASIC + categories.ALW</field>
        <field name="struct_id" ref="l10n_be_hr_payroll.hr_payroll_structure_cp200_employee_termination_fees"/>
    </record>

    <record id="cp200_employees_termination_fees_notice_duration_month" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll_notice_duration"/>
        <field name="name">months</field>
        <field name="code">ND_MONTH</field>
        <field name="sequence">18</field>
        <field name="condition_select">none</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = ANNUAL_SALARY_REVALUED / 12
result_qty = inputs.MONTHS.amount if inputs.MONTHS else 0
        </field>
        <field name="struct_id" ref="l10n_be_hr_payroll.hr_payroll_structure_cp200_employee_termination_fees"/>
    </record>

    <record id="cp200_employees_termination_fees_notice_duration_week" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll_notice_duration"/>
        <field name="name">weeks</field>
        <field name="code">ND_WEEK</field>
        <field name="sequence">19</field>
        <field name="condition_select">none</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = ANNUAL_SALARY_REVALUED * 3 / (12 * 13)
result_qty = inputs.WEEKS.amount if inputs.WEEKS else 0
        </field>
        <field name="struct_id" ref="l10n_be_hr_payroll.hr_payroll_structure_cp200_employee_termination_fees"/>
    </record>

    <record id="cp200_employees_termination_fees_notice_duration_day" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll_notice_duration"/>
        <field name="name">days</field>
        <field name="code">ND_DAY</field>
        <field name="sequence">20</field>
        <field name="condition_select">none</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = ANNUAL_SALARY_REVALUED / 365
result_qty = inputs.DAYS.amount if inputs.DAYS else 0
        </field>
        <field name="struct_id" ref="l10n_be_hr_payroll.hr_payroll_structure_cp200_employee_termination_fees"/>
    </record>

    <record id="cp200_employees_termination_fees_termination_total" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll_termination_salary"/>
        <field name="name">Total</field>
        <field name="code">NET</field>
        <field name="sequence">21</field>
        <field name="condition_select">none</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">result = categories.NOTICE_DURATION</field>
        <field name="struct_id" ref="l10n_be_hr_payroll.hr_payroll_structure_cp200_employee_termination_fees"/>
    </record>

    <record id="cp200_employees_termination_fees_termination_outplacement" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll_termination_salary"/>
        <field name="name">Outplacement (if more than 30 weeks notice duration)</field>
        <field name="code">OUTPLACEMENT</field>
        <field name="sequence">22</field>
        <field name="condition_select">none</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
if inputs.MONTHS and inputs.WEEKS and inputs.DAYS and (inputs.MONTHS.amount / 3 * 13 + inputs.WEEKS.amount + inputs.DAYS.amount / 7) &gt;= 30:
    result = - 4 * ANNUAL_SALARY_REVALUED * 3 / (12 * 13)
else:
    result = 0
        </field>
        <field name="struct_id" ref="l10n_be_hr_payroll.hr_payroll_structure_cp200_employee_termination_fees"/>
    </record>

    <record id="cp200_employees_termination_fees_termination_ONSS" model="hr.salary.rule">
        <field name="category_id" ref="hr_salary_rule_category_spec_soc_contribution"/>
        <field name="name">Social employer contributions to the ONSS</field>
        <field name="code">ONSS</field>
        <field name="sequence">23</field>
        <field name="condition_select">none</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = NET - OUTPLACEMENT
result_rate = 27
        </field>
        <field name="struct_id" ref="l10n_be_hr_payroll.hr_payroll_structure_cp200_employee_termination_fees"/>
    </record>

    <record id="cp200_employees_termination_fees_termination_unreasonable_dismissal" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll_termination_salary"/>
        <field name="name">Unreasonable dismissal</field>
        <field name="code">UNREASONABLE_DISMISSAL</field>
        <field name="sequence">24</field>
        <field name="condition_select">none</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result_qty = inputs.UNREASONABLE_DISMISSAL.amount if inputs.UNREASONABLE_DISMISSAL else 0
result = ANNUAL_SALARY_REVALUED * 3 / (12 * 13)
        </field>
        <field name="struct_id" ref="l10n_be_hr_payroll.hr_payroll_structure_cp200_employee_termination_fees"/>
    </record>

    <record id="cp200_employees_termination_fees_termination_non_respect_motivation" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll_termination_salary"/>
        <field name="name">Non respect motivation (= 2 weeks)</field>
        <field name="code">NON_RESPECT_MOTIVATION</field>
        <field name="sequence">25</field>
        <field name="condition_select">none</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result_qty = inputs.NON_RESPECT_MOTIVATION.amount if inputs.NON_RESPECT_MOTIVATION else 0
result = ANNUAL_SALARY_REVALUED * 3 / (12 * 13)
        </field>
        <field name="struct_id" ref="l10n_be_hr_payroll.hr_payroll_structure_cp200_employee_termination_fees"/>
    </record>

    <record id="cp200_employees_termination_fees_termination_total_cost" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll_termination_salary"/>
        <field name="name">Total cost employer</field>
        <field name="code">BASIC</field>
        <field name="sequence">50</field>
        <field name="condition_select">none</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = NET + ONSS + OUTPLACEMENT + UNREASONABLE_DISMISSAL + NON_RESPECT_MOTIVATION
        </field>
        <field name="struct_id" ref="l10n_be_hr_payroll.hr_payroll_structure_cp200_employee_termination_fees"/>
    </record>
</odoo>
